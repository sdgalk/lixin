# 《Python程序设计基础》程序设计作品说明书

题目： 外星人入侵游戏

学院： 21计科02

姓名： 李欣

学号： B20210302212

指导教师： 周景

起止日期：2023.11.10-2023.12.10

## 摘要

本次设计完成的项目是一款名为“外星人入侵游戏”的2D游戏，使用了pygame包进行开发。玩家需要不断地消灭向下移动的外星人，并在消灭一定数量的外星人后升级，随着等级的提升，游戏难度也会逐渐增加。本文主要介绍了本项目的开发流程和实现方法，包括游戏场景的设计、外星人和玩家角色的绘制、游戏逻辑的实现等。同时，本文还介绍了一些常用的pygame函数和方法，如Sprite类、Rect类等，以及如何使用这些函数和方法来实现游戏的各种功能。在本次项目中，我主要完成了游戏场景的设计、外星人和玩家角色的绘制、游戏逻辑的实现等工作。我还对游戏进行了优化，如添加了音效、增加了游戏难度等，使得游戏更加有趣、富有挑战性。

关键词：pygame、2D游戏、外星人入侵、游戏开发、游戏优化。

## 第1章 需求分析

游戏主界面：提供开始游戏、查看游戏帮助和退出游戏等选项，使玩家可以方便地开始游戏或获取帮助信息。
游戏场景：提供一个2D游戏场景，包括玩家角色、外星人、背景等元素，玩家可以在游戏场景中进行移动和射击操作。
碰撞检测：实现外星人和玩家角色之间的碰撞检测，当玩家射中外星人或外星人触碰到玩家角色时，游戏会做出相应的处理。
游戏难度升级：随着玩家消灭外星人的数量增加，游戏难度会逐渐提升，外星人的移动速度和数量会增加，增加游戏的挑战性。
得分系统：实现玩家得分的计算和显示，让玩家可以清楚地了解自己的游戏成绩。

## 第2章 分析与设计

系统架构：游戏采用基于pygame的2D游戏开发架构，包括游戏引擎、游戏场景、游戏对象等模块。
系统流程：游戏开始时，玩家将进入游戏主界面，可以选择开始游戏、查看游戏帮助或退出游戏。开始游戏后，玩家将进入游戏场景，在游戏场景中玩家可以控制角色移动并进行射击，消灭外星人。游戏结束后，玩家可以选择重新开始游戏或返回主界面。
系统模块：游戏包括游戏引擎模块、游戏场景模块、外星人模块、玩家角色模块、游戏控制模块等。
关键的实现：游戏中使用了Sprite类来管理游戏对象，使用Rect类来处理游戏对象的碰撞检测和位置计算。在游戏逻辑方面，使用了事件循环来处理用户输入和游戏事件，以及使用了适当的算法来控制外星人的移动和玩家角色的射击等操作。

## 第3章 软件测试

```bash
import unittest
from alien_invasion import Ship, Bullet, Alien, AlienInvasion

class TestAlienInvasion(unittest.TestCase):
    def setUp(self):
        self.ai_game = AlienInvasion()

    def test_ship_movement(self):
        initial_x = self.ai_game.ship.rect.x
        self.ai_game.ship.moving_right = True
        self.ai_game.ship.update()
        self.assertGreater(self.ai_game.ship.rect.x, initial_x)

    def test_bullet_creation(self):
        self.ai_game.ship.fire_bullet()
        self.assertEqual(len(self.ai_game.bullets), 1)

    def test_alien_movement(self):
        initial_x = self.ai_game.aliens.sprites()[0].rect.x
        self.ai_game._change_fleet_direction()
        self.ai_game._update_aliens()
        self.assertNotEqual(self.ai_game.aliens.sprites()[0].rect.x, initial_x)

```
这个测试代码包含了对飞船移动、子弹创建和外星人移动等功能的简单测试。

### 单元测试用例

| \#  | 测试目标 | 输入 | 预期结果 | 测试结果 |
| --- | --------- | ----- | ---------------- | ----------------- |
| 1   |飞船移动    | x坐标 | 向右移动          |  向右移动          |
| 2   |  创建子弹  | 1    |  子弹创建成功      |   子弹创建成功     |
| 3   | 外星人移动 | x坐标 | 移动正常          |  移动正常          |
| 4   |           |       |                  |                   |

## 结论

本项目实现了一个经典的射击游戏《外星人入侵》，玩家可以控制飞船进行射击，消灭不断出现的外星舰队。游戏设定了外星舰队的移动速度逐渐加快，增加了游戏的难度和挑战性。玩家需要不断躲避外星人的攻击，保护自己的飞船，以尽可能多地消灭外星人。项目的功能包括玩家控制飞船移动和射击，外星舰队的出现和移动，以及游戏结束条件的判断。项目达到了让玩家体验经典射击游戏的目标，提供了一种简单而有趣的游戏体验。
然而，项目也存在一些不足之处。首先，游戏的内容和玩法相对简单，可能会缺乏吸引力和长久的趣味性。其次，游戏的画面和音效方面也有待改进，提升游戏的视听效果。最后，游戏的难度调整还有待优化，以增加游戏的挑战性和可玩性。为了改进这些不足之处，可以考虑增加更多的游戏元素和关卡设计，提升游戏的深度和趣味性。同时，改进游戏的画面和音效，增强游戏的视听效果。另外，可以根据玩家的反馈，调整游戏的难度，使游戏更具挑战性和可玩性。通过这些改进，可以让游戏更加吸引人，提升玩家的游戏体验。
## 参考文献

《python编程：从入门到实践》
